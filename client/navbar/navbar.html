<template name="navbar">
  <div class="navbar-fixed">
    <nav id="navbar-top">
      <div class="nav-wrapper">
        <a href="/" class="brand-logo">WooFi</a>
        <a href="#" data-activates="slide-out" class="button-collapse hover-darken"><i class="mdi-navigation-menu"></i></a>
        {{> sideNav }}
      </div>
    </nav>
  </div>
</template>

<template name="sideNav">
  <div id="slide-out" class="side-nav fixed z-depth-3">
    <div id="sidenav-icon">
      <i class="mdi-action-help"></i>
      <div>Vet Innovations</div>
    </div>
    <div id="sidenav-menu" class="flex-column">
      {{#if currentUser}}
        <ul class="sidenav-options">
          {{> sideNavPets }}
        </ul>
        <ul class="sidenav-options">
          <li class="{{urlIs '/profile'}}"><a href="/profile" class="truncate">My Account</a></li>
          <li><a data-action-logout class="truncate">Sign Out</a></li>
        </ul>
      {{else}}
        <ul class="sidenav-options">
          <li class="{{urlIs '/'}}"><a href="/" class="truncate">What is WooFi?</a></li>
          <li class="{{urlIs '/register'}}"><a href="/register" class="truncate">Register</a></li>
          <li class="{{urlIs '/login'}}"><a href="/login" class="truncate">Sign In</a></li>
        </ul>
      {{/if}}
    </div>
  </div>
</template>

<template name="sideNavPets">
  {{#each pets}}
    <li class="{{urlIs '/pets/' _id}}"><a href="/pets/{{_id}}" class="truncate">{{name}}</a></li>
  {{/each}}
  <li class="{{urlIs '/pets/add'}} truncate"><a href="/pets/add">Add New Pet<i class="mdi-content-add-circle-outline right"></i></a></li>
</template>
